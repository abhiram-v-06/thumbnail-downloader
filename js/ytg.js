function initDownloadLinks(e){var t=document.getElementById("inputURL").value;console.log(t);var n=checkVimeo(t);if(console.log(n),n)return getVimeoDetails(n=n[n.length-1]),0;var i=extractValue(t);return 0===i?0:(appendImages(i),!1)}function downloadImage(e,t){fetch("https://ifsc-code.in/downloadThumbnail?id="+e+"&quality="+t).then((e=>e.blob())).then((n=>{const i=window.URL.createObjectURL(n),o=document.createElement("a");o.style.display="none",o.href=i,o.download=e+"-"+t+".jpg",document.body.appendChild(o),o.click()}))}function initFunction(){function e(e){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}var t=e("id");if("vimeo"==e("type")){document.getElementById("inputURL").value="https://vimeo.com/"+t;var n=checkVimeo("https://www.vimeo.com/"+t);return getVimeoDetails(n=n[n.length-1]),0}if(""!==t&&appendImages(t),document.getElementById("submitButton").onclick=function(e){initDownloadLinks(e)},!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){var i=document.getElementById("extension-container");i&&(i.style.display="none")}}function setDisplay(e){for(var t=document.getElementsByClassName("download-bt"),n=t.length,i=0;i<n;i++)t[i].style.display=e}function appendVimeoVideos(e,t,n){setDisplay("none");for(var i=document.getElementsByClassName("download-btn"),o=0;o<i.length;o++)i[o].removeEventListener("click",clickBtnEvent);document.getElementsByClassName("right-click-info")[0].style.display="block",document.getElementById("hdrestext").textContent="HD Image (640x480)",document.getElementById("sdrestext").textContent="SD Image (200x150)",document.getElementById("normalrestext").textContent="Normal Image (100x74)",document.getElementById("imgListing").style.display="block",document.getElementById("bottomListing").style.display="block",document.getElementById("topListing").style.display="block";var l=document.getElementById("maxres");l.setAttribute("src",e),l.style.display="block",(l=document.getElementById("hqres")).setAttribute("src",n),l.style.display="block",(l=document.getElementById("sdres")).setAttribute("src",t),document.getElementById("extraYTImg").style.display="none",document.getElementById("hdreslink").style.display="none",document.getElementById("sdreslink").style.display="none",document.getElementById("hqreslink").style.display="none"}function checkVimeo(e){return e.match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/)}function getVimeoDetails(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState==XMLHttpRequest.DONE)if(200==t.status){var e=JSON.parse(t.responseText);appendVimeoVideos(e[0].thumbnail_large,e[0].thumbnail_medium,e[0].thumbnail_small)}else t.status,alert("There is no video in the vimeo link you have given")},t.open("GET","https://vimeo.com/api/v2/video/"+e+".json",!0),t.send()}function isMaxResAvailable(e){var t=new Image;t.onload=function(){this.width<1280?(document.getElementById("hdreslink").style.display="none",document.getElementById("hdrestext").textContent="High resolution not available",isSDAvailalbe(e)):document.getElementById("hdrestext").textContent="HD Image (1280x720)"},t.onerror=function(){document.getElementById("sdrestext").textContent="High resolution not available",isSDAvailalbe(e)},t.src="https://img.youtube.com/vi/"+e+"/maxresdefault.jpg"}function isSDAvailalbe(e){var t=new Image;t.onload=function(){120===this.width&&90===this.height?(document.getElementById("sdrestext").textContent="Standard Quality not available",document.getElementById("sdreslink").style.display="none"):document.getElementById("sdrestext").textContent="SD Image (640x480)"},t.onerror=function(){document.getElementById("sdrestext").textContent="Standard Quality not available"},t.src="https://img.youtube.com/vi/"+e+"/sddefault.jpg"}function clickBtnEvent(){downloadImage(this.getAttribute("data-id"),this.getAttribute("data-quality"))}function appendImages(e){setDisplay("block");for(var t=document.getElementsByClassName("download-btn"),n=0;n<t.length;n++)t[n].removeEventListener("click",clickBtnEvent),console.log(t),t[n].addEventListener("click",clickBtnEvent,!1);document.getElementsByClassName("right-click-info")[0].style.display="none",document.getElementById("hdreslink").setAttribute("data-id",e),document.getElementById("hdreslink").setAttribute("data-quality","HD"),document.getElementById("sdreslink").setAttribute("data-id",e),document.getElementById("sdreslink").setAttribute("data-quality","SD"),document.getElementById("hqreslink").setAttribute("data-id",e),document.getElementById("hqreslink").setAttribute("data-quality","HQ"),document.getElementById("mqreslink").setAttribute("data-id",e),document.getElementById("mqreslink").setAttribute("data-quality","MQ"),document.getElementById("defreslink").setAttribute("data-id",e),document.getElementById("defreslink").setAttribute("data-quality","def"),document.getElementById("hdreslink").style.display="inline",document.getElementById("sdreslink").style.display="inline",document.getElementById("hqreslink").style.display="inline",document.getElementById("inputURL").value="https://youtube.com/watch?v="+e,document.getElementById("imgListing").style.display="block",document.getElementById("bottomListing").style.display="block",document.getElementById("topListing").style.display="block",document.getElementById("hdrestext").textContent="HD Image (1280x720)",document.getElementById("sdrestext").textContent="SD Image (640x480)",document.getElementById("normalrestext").textContent="Normal Image (480x360)",document.getElementById("maxres").setAttribute("src","https://img.youtube.com/vi/"+e+"/maxresdefault.jpg"),document.getElementById("sdres").setAttribute("src","https://img.youtube.com/vi/"+e+"/sddefault.jpg"),document.getElementById("hqres").setAttribute("src","https://i3.ytimg.com/vi/"+e+"/hqdefault.jpg"),document.getElementById("mqres").setAttribute("src","https://img.youtube.com/vi/"+e+"/mqdefault.jpg"),document.getElementById("defres").setAttribute("src","https://img.youtube.com/vi/"+e+"/default.jpg"),isMaxResAvailable(e),document.getElementById("extraYTImg").style.display="block"}function extractValue(e){var t=/(?:https?:\/\/)?(?:www\.)?(?:youtu(?:be\.com\/(?:watch\?(?:v=|vi=)|v\/|vi\/)|\.be\/|be\.com\/embed\/|be\.com\/shorts\/)|youtube\.com\/\?(?:v=|vi=))([\w-]{11})/.exec(e);return t&&t[1]?t[1]:(alert("Please check the URL you have entered"),0)}initFunction();